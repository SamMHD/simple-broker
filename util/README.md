<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# util

```go
import "github.com/SamMHD/simple-broker/util"
```

package util contains all the shared utility functions and structs used by the services. this package also contains envorinment variables and configuration structs.

## Index

- [func NewGrpcLoggerForService(serviceName string) func(ctx context.Context, req interface{}, info *grpc.UnaryServerInfo, handler grpc.UnaryHandler) (resp interface{}, err error)](<#func-newgrpcloggerforservice>)
- [func SetGlobalLogSettings(logType, logLevel string)](<#func-setgloballogsettings>)
- [type Config](<#type-config>)
  - [func LoadConfig(path string) (config Config, err error)](<#func-loadconfig>)


## func [NewGrpcLoggerForService](<https://github.com/SamMHD/simple-broker/blob/main/util/grpcLogger.go#L16-L21>)

```go
func NewGrpcLoggerForService(serviceName string) func(ctx context.Context, req interface{}, info *grpc.UnaryServerInfo, handler grpc.UnaryHandler) (resp interface{}, err error)
```

NewGrpcLoggerForService returns a new gRPC server interceptor that logs the execution of each gRPC method. It uses service name to create a logger with the service name as a field. return result is a function which can be used as a gRPC server interceptor.

## func [SetGlobalLogSettings](<https://github.com/SamMHD/simple-broker/blob/main/util/globalLogSettings.go#L14>)

```go
func SetGlobalLogSettings(logType, logLevel string)
```

SetGlobalLogSettings sets the global log settings for the application. logType: console or json logLevel: debug, info, warn, error

## type [Config](<https://github.com/SamMHD/simple-broker/blob/main/util/config.go#L9-L20>)

Config stores all configuration of the application. The values are read by viper from a config file or environment variable.

```go
type Config struct {
    Environment string `mapstructure:"ENVIRONMENT"`

    MessageMinSize int `mapstructure:"MESSAGE_MIN_SIZE"`
    MessageMaxSize int `mapstructure:"MESSAGE_MAX_SIZE"`

    ReceiverAddress    string `mapstructure:"RECEIVER_ADDRESS"`
    BrokerAddress      string `mapstructure:"BROKER_ADDRESS"`
    DestinationAddress string `mapstructure:"DESTINATION_SERVICE_ADDRESS"`

    BrokerLogDestination string `mapstructure:"BROKER_LOG_DESTINATION"`
}
```

### func [LoadConfig](<https://github.com/SamMHD/simple-broker/blob/main/util/config.go#L23>)

```go
func LoadConfig(path string) (config Config, err error)
```

LoadConfig reads configuration from file or environment variables.



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
